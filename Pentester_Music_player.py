import os

# Check if PulseAudio is running, if not, start it
os.system("pactl list || pulseaudio --start")

# Play the .mp3 file in the background
os.system("mpg123 /workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/Ethereal_Empire_Melodies/sound0001.mp3 &")

# Check if the current working directory matches the target directory
while True:
    if os.path.expanduser("~/workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/Ethereal_Empire_Maps") == os.path.expanduser("~/workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/Ethereal_Empire_Melodies"):
        # Play the sound
        os.system("mpg123 /workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/Ethereal_Empire_Melodies/sound0001.mp3 &")

# Stop PulseAudio when the script exits
os.system("pulseaudio --kill")
