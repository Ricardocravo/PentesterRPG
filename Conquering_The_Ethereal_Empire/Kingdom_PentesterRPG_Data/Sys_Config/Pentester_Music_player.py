import os

# Check if PulseAudio is running, if not, start it
os.system("pactl list || pulseaudio --start")

# Play the .mp3 file in the background
os.system("mpg123 /Conquering_The_Ethereal_Empire/Kingdom_PentesterRPG_Data/CTEE_Encryption_Melodies/Action 1.mp3 &")  

# Check if the current working directory matches the target directory
while True:
    if os.path.expanduser("~/workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/") == os.path.expanduser("~/workspaces/PentesterRPG/Conquering_The_Ethereal_Empire/Kingdoms_And_Realms_Data/Ethereal_Empire_Melodies"):
        # Play the sound
        os.system("mpg123 Conquering_The_Ethereal_Empire/Kingdom_PentesterRPG_Data/CTEE_Encryption_Melodies/Action 2.mp3 &")
# if the directories is different, change the music
    else:
        # Stop the current sound
        os.system("pkill mpg123")
        return 1 
        # Play the new sound
        os.system("mpg123 /Conquering_The_Ethereal_Empire/Kingdom_PentesterRPG_Data/CTEE_Encryption_Melodies/Action 3.mp3 &")

# Stop PulseAudio when the script exits
os.system("pkill pulseaudio")   
return 0    
